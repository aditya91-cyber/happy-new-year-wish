<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>New Year Surprise â¤ï¸</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
    background:#0f0f1a;
    color:#ffd700;
    font-family:Arial, sans-serif;
    text-align:center;
    margin:0;
    overflow-x:hidden;
}

.page{
    position:absolute;
    width:100%;
    height:100vh;
    top:0;
    left:0;
    padding:20px;
    transition:all 1s ease;
    box-sizing:border-box;
}

#page1::before{
    content:"";
    position:absolute;
    inset:0;
    background:url("background.jpg") center/cover no-repeat;
    filter:blur(10px);
    z-index:-1;
}

#page2{
    left:100%;
    background:linear-gradient(135deg,#ff4d6d,#ff9a9e);
    color:white;
    overflow-y:auto;
}

input,button{
    padding:10px 16px;
    font-size:16px;
    border-radius:10px;
    border:none;
    margin:10px auto;
    display:block;
}
button{
    background:#ff4d6d;
    color:white;
    cursor:pointer;
}

.text3d{
    font-size:28px;
    color:red;
    font-weight:bold;
    text-shadow:1px 1px 0 #87CEEB;
}
.typing{
    display:inline-block;
    white-space:nowrap;
    overflow:hidden;
    border-right:3px solid red;
    padding-right:6px;
    animation: blink 0.7s infinite;
}
@keyframes blink{50%{border-color:transparent;}}

.slider{
    max-width:260px;
    margin:25px auto;
    overflow:hidden;
    border-radius:16px;
}
.slides{
    display:flex;
    transition:transform 0.6s ease;
}
.slides img{
    width:100%;
    flex-shrink:0;
}

.shayari{
    font-size:18px;
    margin:20px 0;
    opacity:0;
    transition:opacity 1s ease;
}

#loveFinal{
    font-size:26px;
    font-weight:bold;
    opacity:0;
    display:none;
    margin:20px auto;
    transition:opacity 1.5s ease;
}
#loveFinal.show{opacity:1;}

.heart{
    position:fixed;
    bottom:-20px;
    font-size:20px;
    animation:floatUp 5s linear infinite;
}
@keyframes floatUp{to{transform:translateY(-100vh);opacity:0;}}
</style>
</head>

<body>

<audio id="fireSound" src="fireworks.mp3" preload="auto"></audio>

<div class="page" id="page1">
<h1>ğŸ‰ Happy New Year ğŸ‰</h1>

<input id="nameInput" placeholder="Apna naam likho â¤ï¸">
<button onclick="showGreeting()">Show Greeting</button>

<div id="greeting"></div>

<button id="showImgBtn" onclick="showSlider()" style="display:none;">Show Pic â¤ï¸</button>

<div class="slider" id="slider" style="display:none;">
    <div class="slides" id="slides">
        <img src="wifey1.jpeg">
        <img src="wifey.jpeg">
        <img src="wifey2.jpeg">
    </div>
</div>

<button id="moreBtn" onclick="goNextPage()" style="display:none;">More Surprise ğŸ</button>
</div>

<div class="page" id="page2">
<h1>ğŸ’– My Love For You ğŸ’–</h1>

<div class="shayari">Calendar badlega, saal badlega<br>Par mera pyaar kabhi nahi â¤ï¸</div>
<div class="shayari">Is naye saal me bas aapka saath chahiye ğŸ«¶</div>
<div class="shayari">Happy New Year meri jaan ğŸ’›</div>

<div id="loveFinal">
I LOVE YOU TOO MUCH â¤ï¸<br>
I AM YOURS FOREVER ğŸ«¶
</div>

<button onclick="shareWish()">Share This Wish ğŸ</button>
<p id="shareText"></p>
</div>

<script>
function showGreeting(){
    let name=nameInput.value.trim();
    if(!name) return alert("Naam likh");

    const text=`Happy New Year ${name} â¤ï¸`;
    greeting.innerHTML=`<div class="text3d"><span id="typeText" class="typing"></span></div>`;

    let i=0;
    function type(){
        if(i<text.length){
            typeText.textContent+=text[i++];
            setTimeout(type,80);
        }
    }
    type();

    const url=new URL(location.href);
    url.searchParams.set("name",name);
    history.replaceState({},'',url);

    showImgBtn.style.display="block";
}

function showSlider(){
    slider.style.display="block";
    moreBtn.style.display="block";
}

let index=0;
setInterval(()=>{
    index=(index+1)%slides.children.length;
    slides.style.transform=`translateX(-${index*100}%)`;
},2500);

function goNextPage(){
    page1.style.left="-100%";
    page2.style.left="0";
    showShayari();
}

function showShayari(){
    let s=document.querySelectorAll(".shayari");
    let i=0;
    function next(){
        if(i<s.length){
            s[i].style.opacity=1;
            i++;
            setTimeout(next,2000);
        }else{
            loveFinal.style.display="block";
            loveFinal.classList.add("show");
            hearts();
        }
    }
    next();
}

function hearts(){
    for(let i=0;i<15;i++){
        let h=document.createElement("div");
        h.className="heart";
        h.innerHTML="â¤ï¸";
        h.style.left=Math.random()*100+"vw";
        document.body.appendChild(h);
        setTimeout(()=>h.remove(),5000);
    }
}

function shareWish(){
    navigator.clipboard.writeText(location.href)
    .then(()=>shareText.innerText="Link copied â¤ï¸ Khushi ko bhej do");
}

window.onload=()=>{
    const n=new URLSearchParams(location.search).get("name");
    if(n){
        nameInput.value=n;
        showGreeting();
    }
}
</script>

</body>
</html>